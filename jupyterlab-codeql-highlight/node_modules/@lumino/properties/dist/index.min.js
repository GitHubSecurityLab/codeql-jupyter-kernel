!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).lumino_properties={})}(this,(function(e){"use strict";var t;e.AttachedProperty=function(){function e(e){this._pid=t.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}return e.prototype.get=function(e){var i=t.ensureMap(e);return this._pid in i?i[this._pid]:i[this._pid]=this._createValue(e)},e.prototype.set=function(e,i){var r,n=t.ensureMap(e);r=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(e);var o=this._coerceValue(e,i);this._maybeNotify(e,r,n[this._pid]=o)},e.prototype.coerce=function(e){var i,r=t.ensureMap(e);i=this._pid in r?r[this._pid]:r[this._pid]=this._createValue(e);var n=this._coerceValue(e,i);this._maybeNotify(e,i,r[this._pid]=n)},e.prototype._createValue=function(e){return(0,this._create)(e)},e.prototype._coerceValue=function(e,t){var i=this._coerce;return i?i(e,t):t},e.prototype._compareValue=function(e,t){var i=this._compare;return i?i(e,t):e===t},e.prototype._maybeNotify=function(e,t,i){var r=this._changed;r&&!this._compareValue(t,i)&&r(e,t,i)},e}(),(e.AttachedProperty||(e.AttachedProperty={})).clearData=function(e){t.ownerData.delete(e)},function(e){var t;e.ownerData=new WeakMap,e.nextPID=(t=0,function(){return"pid-"+(""+Math.random()).slice(2)+"-"+t++}),e.ensureMap=function(t){var i=e.ownerData.get(t);return i||(i=Object.create(null),e.ownerData.set(t,i),i)}}(t||(t={})),Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.min.js.map